<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
</head>
<body>
    <h1>Sign up for Early Access</h1>
    <form id="signup-form">
        <input type="email" id="email" placeholder="Enter your email" required>
        <button type="submit">Sign Up</button>
    </form>

    <script>
        document.getElementById('signup-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value;
            if (!email) return;

            // Generate a fingerprint for the user
            const userId = generateFingerprint();

            // Save the email and fingerprint together
            localStorage.setItem('userEmail_' + userId, email);

            // Assign a unique URL to the user
            assignUniqueUrl(userId);

            // Redirect to the sharing page after sign-up
            window.location.href = "sharing.html";
        });

        function generateFingerprint() {
            return navigator.userAgent + screen.width + screen.height + navigator.language;
        }

        function assignUniqueUrl(userId) {
            const urls = [
                "https://example.com/url1",
                "https://example.com/url2",
                "https://example.com/url3"
            ];

            const assignedUrlIndex = localStorage.getItem('assignedUrlIndex_' + userId);

            if (assignedUrlIndex === null) {
                const randomIndex = Math.floor(Math.random() * urls.length);
                localStorage.setItem('assignedUrlIndex_' + userId, randomIndex);
                const url = urls[randomIndex];
                localStorage.setItem('userUrl_' + userId, url);
            }
        }
    </script>
</body>
</html>
